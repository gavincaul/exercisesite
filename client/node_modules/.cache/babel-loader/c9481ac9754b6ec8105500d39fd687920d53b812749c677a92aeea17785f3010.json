{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./Flipcard.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function FlipCard(_ref){let{flippedState,movement,muscles,m}=_ref;const[flipped,setFlipped]=useState(false);const[modalOpen,setModalOpen]=useState(false);useEffect(()=>{setFlipped(flippedState);},[flippedState]);useEffect(()=>{if(modalOpen){document.body.style.overflow=\"hidden\";}else{document.body.style.overflow=\"\";}return()=>{document.body.style.overflow=\"\";};},[modalOpen]);const getMusclesByRole=role=>{if(!movement.movement_muscles)return[];return movement.movement_muscles.filter(mm=>mm.role===role).map(mm=>muscles[mm.muscle_id]).filter(Boolean);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"movement-card-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:`movement-card ${flipped?\"flipped\":\"\"}`,onClick:()=>setFlipped(!flipped),children:[/*#__PURE__*/_jsx(\"button\",{className:\"overlay-button\",onClick:e=>{e.stopPropagation();setModalOpen(true);},\"aria-label\":\"Show full exercise details\",children:\"\\u24D8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"movement-card-front\",children:[/*#__PURE__*/_jsx(\"img\",{src:`${process.env.PUBLIC_URL}/anatomy/${movement.name.replace(/\\s*[-–]\\s*/g,\"-\").replace(/\\s+/g,\"_\")}.jpg`,alt:movement.name,style:{width:\"100%\",height:\"60%\",borderRadius:\"12px 12px 0 0\",objectFit:\"cover\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"cardTitle\",children:movement.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movement-card-back\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cardTitle\",children:movement.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:m?\"Type:\":\"Group:\"}),\" \",movement.type]}),/*#__PURE__*/_jsx(\"p\",{children:m?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Equipment:\"}),\" \",movement.equipment||\"None\"]}):\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"muscle-groups-scroll\",children:[\"primary\",\"secondary\",\"tertiary\"].map(role=>{const musclesByRole=getMusclesByRole(role);if(musclesByRole.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"10px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",fontWeight:\"bold\"},children:[/*#__PURE__*/_jsx(\"hr\",{}),\" \",role.charAt(0).toUpperCase()+role.slice(1),\" \",\"Muscles: \",/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(\"ul\",{style:{marginTop:\"5px\",paddingLeft:\"18px\"},children:musclesByRole.map((name,i)=>/*#__PURE__*/_jsx(\"li\",{children:name},i))})]},role);})})]})]})}),modalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setModalOpen(false),role:\"dialog\",\"aria-modal\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:()=>setModalOpen(false),\"aria-label\":\"Close modal\",children:\"\\u2715\"}),/*#__PURE__*/_jsx(\"h2\",{children:movement.name}),/*#__PURE__*/_jsx(\"img\",{src:`${process.env.PUBLIC_URL}/anatomy/${movement.name.replace(/\\s*[-–]\\s*/g,\"-\").replace(/\\s+/g,\"_\")}.jpg`,alt:movement.name,className:\"modal-image\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:m?\"Type:\":\"Group:\"}),\" \",movement.type]}),/*#__PURE__*/_jsx(\"p\",{children:m?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Equipment:\"}),\" \",movement.equipment||\"None\"]}):\"\"}),[\"primary\",\"secondary\",\"tertiary\"].map(role=>{const musclesByRole=getMusclesByRole(role);if(musclesByRole.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"10px\"},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[role.charAt(0).toUpperCase()+role.slice(1),\" Muscles:\"]}),/*#__PURE__*/_jsx(\"ul\",{style:{marginTop:\"5px\",paddingLeft:\"18px\"},children:musclesByRole.map((name,i)=>/*#__PURE__*/_jsx(\"li\",{children:name},i))})]},role);})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FlipCard","_ref","flippedState","movement","muscles","m","flipped","setFlipped","modalOpen","setModalOpen","document","body","style","overflow","getMusclesByRole","role","movement_muscles","filter","mm","map","muscle_id","Boolean","children","className","onClick","e","stopPropagation","src","process","env","PUBLIC_URL","name","replace","alt","width","height","borderRadius","objectFit","type","equipment","musclesByRole","length","marginTop","textAlign","fontWeight","charAt","toUpperCase","slice","paddingLeft","i"],"sources":["/home/gavin/VSC/Websites/exercisesite/client/src/components/Flipcard.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Flipcard.css\";\n\nexport default function FlipCard({ flippedState, movement, muscles, m }) {\n  const [flipped, setFlipped] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n\n  useEffect(() => {\n    setFlipped(flippedState);\n  }, [flippedState]);\n\n  useEffect(() => {\n    if (modalOpen) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"\";\n    }\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, [modalOpen]);\n\n  const getMusclesByRole = (role) => {\n    if (!movement.movement_muscles) return [];\n    return movement.movement_muscles\n      .filter((mm) => mm.role === role)\n      .map((mm) => muscles[mm.muscle_id])\n      .filter(Boolean);\n  };\n\n  return (\n    <>\n      <div className=\"movement-card-container\">\n        <div\n          className={`movement-card ${flipped ? \"flipped\" : \"\"}`}\n          onClick={() => setFlipped(!flipped)}\n        >\n          <button\n            className=\"overlay-button\"\n            onClick={(e) => {\n              e.stopPropagation();\n              setModalOpen(true);\n            }}\n            aria-label=\"Show full exercise details\"\n          >\n            ⓘ\n          </button>\n\n          <div className=\"movement-card-front\">\n            <img\n              src={`${process.env.PUBLIC_URL}/anatomy/${movement.name\n                .replace(/\\s*[-–]\\s*/g, \"-\")\n                .replace(/\\s+/g, \"_\")}.jpg`}\n              alt={movement.name}\n              style={{\n                width: \"100%\",\n                height: \"60%\",\n                borderRadius: \"12px 12px 0 0\",\n                objectFit: \"cover\",\n              }}\n            />\n            <div className=\"cardTitle\">{movement.name}</div>\n          </div>\n\n          {/* Back side with scrollable muscle groups */}\n          <div className=\"movement-card-back\">\n            <div className=\"cardTitle\">{movement.name}</div>\n            <p>\n              <strong>{m ? \"Type:\" : \"Group:\"}</strong> {movement.type}\n            </p>\n            <p>\n              {m ? (\n                <>\n                  <strong>Equipment:</strong> {movement.equipment || \"None\"}\n                </>\n              ) : (\n                \"\"\n              )}\n            </p>\n\n            <div className=\"muscle-groups-scroll\">\n              {[\"primary\", \"secondary\", \"tertiary\"].map((role) => {\n                const musclesByRole = getMusclesByRole(role);\n                if (musclesByRole.length === 0) return null;\n                return (\n                  <div key={role} style={{ marginTop: \"10px\" }}>\n                    <div style={{ textAlign: \"center\", fontWeight: \"bold\" }}>\n                      <hr /> {role.charAt(0).toUpperCase() + role.slice(1)}{\" \"}\n                      Muscles: <hr />\n                    </div>\n                    <ul style={{ marginTop: \"5px\", paddingLeft: \"18px\" }}>\n                      {musclesByRole.map((name, i) => (\n                        <li key={i}>{name}</li>\n                      ))}\n                    </ul>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Modal overlay */}\n      {modalOpen && (\n        <div\n          className=\"modal-overlay\"\n          onClick={() => setModalOpen(false)}\n          role=\"dialog\"\n          aria-modal=\"true\"\n        >\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n            <button\n              className=\"modal-close\"\n              onClick={() => setModalOpen(false)}\n              aria-label=\"Close modal\"\n            >\n              ✕\n            </button>\n            <h2>{movement.name}</h2>\n            <img\n              src={`${process.env.PUBLIC_URL}/anatomy/${movement.name\n                .replace(/\\s*[-–]\\s*/g, \"-\")\n                .replace(/\\s+/g, \"_\")}.jpg`}\n              alt={movement.name}\n              className=\"modal-image\"\n            />\n\n            <p>\n              <strong>{m ? \"Type:\" : \"Group:\"}</strong> {movement.type}\n            </p>\n            <p>\n              {m ? (\n                <>\n                  <strong>Equipment:</strong> {movement.equipment || \"None\"}\n                </>\n              ) : (\n                \"\"\n              )}\n            </p>\n\n            {/* Muscle groups in modal */}\n            {[\"primary\", \"secondary\", \"tertiary\"].map((role) => {\n              const musclesByRole = getMusclesByRole(role);\n              if (musclesByRole.length === 0) return null;\n              return (\n                <div key={role} style={{ marginTop: \"10px\" }}>\n                  <strong>\n                    {role.charAt(0).toUpperCase() + role.slice(1)} Muscles:\n                  </strong>\n                  <ul style={{ marginTop: \"5px\", paddingLeft: \"18px\" }}>\n                    {musclesByRole.map((name, i) => (\n                      <li key={i}>{name}</li>\n                    ))}\n                  </ul>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExB,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAyC,IAAxC,CAAEC,YAAY,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,CAAE,CAAC,CAAAJ,IAAA,CACrE,KAAM,CAACK,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACgB,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAEjDC,SAAS,CAAC,IAAM,CACdc,UAAU,CAACL,YAAY,CAAC,CAC1B,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElBT,SAAS,CAAC,IAAM,CACd,GAAIe,SAAS,CAAE,CACbE,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,QAAQ,CACzC,CAAC,IAAM,CACLH,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,EAAE,CACnC,CACA,MAAO,IAAM,CACXH,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,EAAE,CACnC,CAAC,CACH,CAAC,CAAE,CAACL,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAM,gBAAgB,CAAIC,IAAI,EAAK,CACjC,GAAI,CAACZ,QAAQ,CAACa,gBAAgB,CAAE,MAAO,EAAE,CACzC,MAAO,CAAAb,QAAQ,CAACa,gBAAgB,CAC7BC,MAAM,CAAEC,EAAE,EAAKA,EAAE,CAACH,IAAI,GAAKA,IAAI,CAAC,CAChCI,GAAG,CAAED,EAAE,EAAKd,OAAO,CAACc,EAAE,CAACE,SAAS,CAAC,CAAC,CAClCH,MAAM,CAACI,OAAO,CAAC,CACpB,CAAC,CAED,mBACExB,KAAA,CAAAE,SAAA,EAAAuB,QAAA,eACE3B,IAAA,QAAK4B,SAAS,CAAC,yBAAyB,CAAAD,QAAA,cACtCzB,KAAA,QACE0B,SAAS,CAAE,iBAAiBjB,OAAO,CAAG,SAAS,CAAG,EAAE,EAAG,CACvDkB,OAAO,CAAEA,CAAA,GAAMjB,UAAU,CAAC,CAACD,OAAO,CAAE,CAAAgB,QAAA,eAEpC3B,IAAA,WACE4B,SAAS,CAAC,gBAAgB,CAC1BC,OAAO,CAAGC,CAAC,EAAK,CACdA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnBjB,YAAY,CAAC,IAAI,CAAC,CACpB,CAAE,CACF,aAAW,4BAA4B,CAAAa,QAAA,CACxC,QAED,CAAQ,CAAC,cAETzB,KAAA,QAAK0B,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClC3B,IAAA,QACEgC,GAAG,CAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,YAAY3B,QAAQ,CAAC4B,IAAI,CACpDC,OAAO,CAAC,aAAa,CAAE,GAAG,CAAC,CAC3BA,OAAO,CAAC,MAAM,CAAE,GAAG,CAAC,MAAO,CAC9BC,GAAG,CAAE9B,QAAQ,CAAC4B,IAAK,CACnBnB,KAAK,CAAE,CACLsB,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,KAAK,CACbC,YAAY,CAAE,eAAe,CAC7BC,SAAS,CAAE,OACb,CAAE,CACH,CAAC,cACF1C,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEnB,QAAQ,CAAC4B,IAAI,CAAM,CAAC,EAC7C,CAAC,cAGNlC,KAAA,QAAK0B,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACjC3B,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEnB,QAAQ,CAAC4B,IAAI,CAAM,CAAC,cAChDlC,KAAA,MAAAyB,QAAA,eACE3B,IAAA,WAAA2B,QAAA,CAASjB,CAAC,CAAG,OAAO,CAAG,QAAQ,CAAS,CAAC,IAAC,CAACF,QAAQ,CAACmC,IAAI,EACvD,CAAC,cACJ3C,IAAA,MAAA2B,QAAA,CACGjB,CAAC,cACAR,KAAA,CAAAE,SAAA,EAAAuB,QAAA,eACE3B,IAAA,WAAA2B,QAAA,CAAQ,YAAU,CAAQ,CAAC,IAAC,CAACnB,QAAQ,CAACoC,SAAS,EAAI,MAAM,EACzD,CAAC,CAEH,EACD,CACA,CAAC,cAEJ5C,IAAA,QAAK4B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAClC,CAAC,SAAS,CAAE,WAAW,CAAE,UAAU,CAAC,CAACH,GAAG,CAAEJ,IAAI,EAAK,CAClD,KAAM,CAAAyB,aAAa,CAAG1B,gBAAgB,CAACC,IAAI,CAAC,CAC5C,GAAIyB,aAAa,CAACC,MAAM,GAAK,CAAC,CAAE,MAAO,KAAI,CAC3C,mBACE5C,KAAA,QAAgBe,KAAK,CAAE,CAAE8B,SAAS,CAAE,MAAO,CAAE,CAAApB,QAAA,eAC3CzB,KAAA,QAAKe,KAAK,CAAE,CAAE+B,SAAS,CAAE,QAAQ,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAtB,QAAA,eACtD3B,IAAA,QAAK,CAAC,IAAC,CAACoB,IAAI,CAAC8B,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAG/B,IAAI,CAACgC,KAAK,CAAC,CAAC,CAAC,CAAE,GAAG,CAAC,WACjD,cAAApD,IAAA,QAAK,CAAC,EACZ,CAAC,cACNA,IAAA,OAAIiB,KAAK,CAAE,CAAE8B,SAAS,CAAE,KAAK,CAAEM,WAAW,CAAE,MAAO,CAAE,CAAA1B,QAAA,CAClDkB,aAAa,CAACrB,GAAG,CAAC,CAACY,IAAI,CAAEkB,CAAC,gBACzBtD,IAAA,OAAA2B,QAAA,CAAaS,IAAI,EAARkB,CAAa,CACvB,CAAC,CACA,CAAC,GATGlC,IAUL,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CAGLP,SAAS,eACRb,IAAA,QACE4B,SAAS,CAAC,eAAe,CACzBC,OAAO,CAAEA,CAAA,GAAMf,YAAY,CAAC,KAAK,CAAE,CACnCM,IAAI,CAAC,QAAQ,CACb,aAAW,MAAM,CAAAO,QAAA,cAEjBzB,KAAA,QAAK0B,SAAS,CAAC,eAAe,CAACC,OAAO,CAAGC,CAAC,EAAKA,CAAC,CAACC,eAAe,CAAC,CAAE,CAAAJ,QAAA,eACjE3B,IAAA,WACE4B,SAAS,CAAC,aAAa,CACvBC,OAAO,CAAEA,CAAA,GAAMf,YAAY,CAAC,KAAK,CAAE,CACnC,aAAW,aAAa,CAAAa,QAAA,CACzB,QAED,CAAQ,CAAC,cACT3B,IAAA,OAAA2B,QAAA,CAAKnB,QAAQ,CAAC4B,IAAI,CAAK,CAAC,cACxBpC,IAAA,QACEgC,GAAG,CAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,YAAY3B,QAAQ,CAAC4B,IAAI,CACpDC,OAAO,CAAC,aAAa,CAAE,GAAG,CAAC,CAC3BA,OAAO,CAAC,MAAM,CAAE,GAAG,CAAC,MAAO,CAC9BC,GAAG,CAAE9B,QAAQ,CAAC4B,IAAK,CACnBR,SAAS,CAAC,aAAa,CACxB,CAAC,cAEF1B,KAAA,MAAAyB,QAAA,eACE3B,IAAA,WAAA2B,QAAA,CAASjB,CAAC,CAAG,OAAO,CAAG,QAAQ,CAAS,CAAC,IAAC,CAACF,QAAQ,CAACmC,IAAI,EACvD,CAAC,cACJ3C,IAAA,MAAA2B,QAAA,CACGjB,CAAC,cACAR,KAAA,CAAAE,SAAA,EAAAuB,QAAA,eACE3B,IAAA,WAAA2B,QAAA,CAAQ,YAAU,CAAQ,CAAC,IAAC,CAACnB,QAAQ,CAACoC,SAAS,EAAI,MAAM,EACzD,CAAC,CAEH,EACD,CACA,CAAC,CAGH,CAAC,SAAS,CAAE,WAAW,CAAE,UAAU,CAAC,CAACpB,GAAG,CAAEJ,IAAI,EAAK,CAClD,KAAM,CAAAyB,aAAa,CAAG1B,gBAAgB,CAACC,IAAI,CAAC,CAC5C,GAAIyB,aAAa,CAACC,MAAM,GAAK,CAAC,CAAE,MAAO,KAAI,CAC3C,mBACE5C,KAAA,QAAgBe,KAAK,CAAE,CAAE8B,SAAS,CAAE,MAAO,CAAE,CAAApB,QAAA,eAC3CzB,KAAA,WAAAyB,QAAA,EACGP,IAAI,CAAC8B,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAG/B,IAAI,CAACgC,KAAK,CAAC,CAAC,CAAC,CAAC,WAChD,EAAQ,CAAC,cACTpD,IAAA,OAAIiB,KAAK,CAAE,CAAE8B,SAAS,CAAE,KAAK,CAAEM,WAAW,CAAE,MAAO,CAAE,CAAA1B,QAAA,CAClDkB,aAAa,CAACrB,GAAG,CAAC,CAACY,IAAI,CAAEkB,CAAC,gBACzBtD,IAAA,OAAA2B,QAAA,CAAaS,IAAI,EAARkB,CAAa,CACvB,CAAC,CACA,CAAC,GARGlC,IASL,CAAC,CAEV,CAAC,CAAC,EACC,CAAC,CACH,CACN,EACD,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}